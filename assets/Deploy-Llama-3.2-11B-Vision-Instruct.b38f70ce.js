import{_ as l}from"./Post.14d9d5ce.js";import{u as p,c,w as r,o as u,a as n,b as s}from"./app.95384a36.js";var i="/images/notes/llm/Deploy-Llama-3.2-11B-Vision-Instruct/download_model.png",k="/images/notes/llm/Deploy-Llama-3.2-11B-Vision-Instruct/check_env.png",d="/images/notes/llm/Deploy-Llama-3.2-11B-Vision-Instruct/output-0002.png",m="/images/notes/llm/Deploy-Llama-3.2-11B-Vision-Instruct/success_out.png",h="/images/notes/llm/Deploy-Llama-3.2-11B-Vision-Instruct/4e14fecf615b60c6ebf4b42fd2636c38.png";const w="\u90E8\u7F72\uFF1A\u591A\u6A21\u6001\u5927\u8BED\u8A00\u6A21\u578B Llama-3.2-11B-Vision-Instruct \u6E90\u7801\u90E8\u7F72",v="2025-08-16T00:00:00.000Z",x="llm",L=[{property:"og:title",content:"\u90E8\u7F72\uFF1A\u591A\u6A21\u6001\u5927\u8BED\u8A00\u6A21\u578B Llama-3.2-11B-Vision-Instruct \u6E90\u7801\u90E8\u7F72"}],B={__name:"Deploy-Llama-3.2-11B-Vision-Instruct",setup(g,{expose:o}){const a={title:"\u90E8\u7F72\uFF1A\u591A\u6A21\u6001\u5927\u8BED\u8A00\u6A21\u578B Llama-3.2-11B-Vision-Instruct \u6E90\u7801\u90E8\u7F72",date:"2025-08-16T00:00:00.000Z",type:"llm",meta:[{property:"og:title",content:"\u90E8\u7F72\uFF1A\u591A\u6A21\u6001\u5927\u8BED\u8A00\u6A21\u578B Llama-3.2-11B-Vision-Instruct \u6E90\u7801\u90E8\u7F72"}]};return o({frontmatter:a}),p({title:"\u90E8\u7F72\uFF1A\u591A\u6A21\u6001\u5927\u8BED\u8A00\u6A21\u578B Llama-3.2-11B-Vision-Instruct \u6E90\u7801\u90E8\u7F72",meta:[{property:"og:title",content:"\u90E8\u7F72\uFF1A\u591A\u6A21\u6001\u5927\u8BED\u8A00\u6A21\u578B Llama-3.2-11B-Vision-Instruct \u6E90\u7801\u90E8\u7F72"}]}),(_,t)=>{const e=l;return u(),c(e,{frontmatter:a},{default:r(()=>[...t[0]||(t[0]=[n("div",{class:"prose m-auto"},[n("p",null,"Llama-3.2-11B-Vision-Instruct \u662F Meta \u53D1\u5E03\u7684\u5F00\u6E90\u591A\u6A21\u6001\u5927\u8BED\u8A00\u6A21\u578B\uFF0C\u57FA\u4E8E Llama 3.2 \u67B6\u6784\uFF0C\u5177\u5907\u5F3A\u5927\u7684\u56FE\u50CF\u7406\u89E3\u548C\u6587\u672C\u751F\u6210\u80FD\u529B\u3002\u8BE5\u6A21\u578B\u652F\u6301\u540C\u65F6\u5904\u7406\u56FE\u50CF\u548C\u6587\u672C\u8F93\u5165\uFF0C\u80FD\u591F\u8FDB\u884C\u56FE\u50CF\u63CF\u8FF0\u3001\u89C6\u89C9\u95EE\u7B54\u3001\u56FE\u6587\u7406\u89E3\u7B49\u591A\u79CD\u4EFB\u52A1\u3002\u672C\u6587\u6863\u8BE6\u7EC6\u4ECB\u7ECD\u5982\u4F55\u4ECE ModelScope \u8FDB\u884C\u672C\u5730\u5316\u90E8\u7F72\u548C\u914D\u7F6E\u4F18\u5316\u3002"),n("h2",{id:"\u7CFB\u7EDF\u8981\u6C42",tabindex:"-1"},[s("\u7CFB\u7EDF\u8981\u6C42 "),n("a",{class:"header-anchor",href:"#\u7CFB\u7EDF\u8981\u6C42","aria-hidden":"true"},"#")]),n("h3",{id:"\u6838\u5FC3\u6280\u672F\u89C4\u683C",tabindex:"-1"},[s("\u6838\u5FC3\u6280\u672F\u89C4\u683C "),n("a",{class:"header-anchor",href:"#\u6838\u5FC3\u6280\u672F\u89C4\u683C","aria-hidden":"true"},"#")]),n("p",null,[s("Llama-3.2-11B-Vision-Instruct \u662F\u4E00\u4E2A\u62E5\u6709 "),n("strong",null,"110 \u4EBF\u53C2\u6570"),s(" \u7684\u591A\u6A21\u6001\u8BED\u8A00\u6A21\u578B\uFF0C\u91C7\u7528\u4E86\u4EE5\u4E0B\u6838\u5FC3\u6280\u672F\uFF1A")]),n("ul",null,[n("li",null,[n("strong",null,"\u6A21\u578B\u67B6\u6784"),s(": Transformer + Vision Encoder")]),n("li",null,[n("strong",null,"\u53C2\u6570\u89C4\u6A21"),s(": 110 \u4EBF\u53C2\u6570 (11B)")]),n("li",null,[n("strong",null,"\u4E0A\u4E0B\u6587\u957F\u5EA6"),s(": 128K tokens")]),n("li",null,[n("strong",null,"\u5206\u8BCD\u5668"),s(": TikToken-based")]),n("li",null,[n("strong",null,"\u591A\u6A21\u6001\u652F\u6301"),s(": \u56FE\u50CF + \u6587\u672C\u540C\u65F6\u8F93\u5165")]),n("li",null,[n("strong",null,"\u8BED\u8A00\u652F\u6301"),s(": \u591A\u8BED\u8A00\u652F\u6301\uFF08\u5305\u62EC\u4E2D\u6587\u3001\u82F1\u6587\u7B49\uFF09")])]),n("h3",{id:"\u786C\u4EF6\u8981\u6C42",tabindex:"-1"},[s("\u786C\u4EF6\u8981\u6C42 "),n("a",{class:"header-anchor",href:"#\u786C\u4EF6\u8981\u6C42","aria-hidden":"true"},"#")]),n("h4",{id:"gpu-\u663E\u5B58\u9700\u6C42",tabindex:"-1"},[s("GPU \u663E\u5B58\u9700\u6C42 "),n("a",{class:"header-anchor",href:"#gpu-\u663E\u5B58\u9700\u6C42","aria-hidden":"true"},"#")]),n("table",null,[n("thead",null,[n("tr",null,[n("th",null,"\u4F7F\u7528\u6A21\u5F0F"),n("th",null,"\u663E\u5B58\u8981\u6C42"),n("th",null,"\u63A8\u8350 GPU")])]),n("tbody",null,[n("tr",null,[n("td",null,[n("strong",null,"\u57FA\u7840\u4F7F\u7528")]),n("td",null,"12-16GB"),n("td",null,"RTX 4070Ti, RTX 3080Ti")]),n("tr",null,[n("td",null,[n("strong",null,"\u6807\u51C6\u4F7F\u7528")]),n("td",null,"16-24GB"),n("td",null,"RTX 4080, RTX 4090")]),n("tr",null,[n("td",null,[n("strong",null,"\u9AD8\u8D28\u91CF")]),n("td",null,"24GB+"),n("td",null,"RTX 4090, A100, H100")])])]),n("h4",{id:"\u7CFB\u7EDF\u914D\u7F6E",tabindex:"-1"},[s("\u7CFB\u7EDF\u914D\u7F6E "),n("a",{class:"header-anchor",href:"#\u7CFB\u7EDF\u914D\u7F6E","aria-hidden":"true"},"#")]),n("ul",null,[n("li",null,[n("strong",null,"CPU"),s(": Intel i5 \u6216 AMD Ryzen 5 \u53CA\u4EE5\u4E0A")]),n("li",null,[n("strong",null,"\u5185\u5B58"),s(": 16GB \u8D77\u6B65\uFF0C\u63A8\u8350 32GB")]),n("li",null,[n("strong",null,"\u5B58\u50A8"),s(": 50GB \u53EF\u7528\u7A7A\u95F4\uFF08\u6A21\u578B\u7EA6 22GB\uFF09")]),n("li",null,[n("strong",null,"CUDA"),s(": \u652F\u6301 CUDA 11.8+ \u6216 12.x")])]),n("h3",{id:"\u8F6F\u4EF6\u73AF\u5883\u8981\u6C42",tabindex:"-1"},[s("\u8F6F\u4EF6\u73AF\u5883\u8981\u6C42 "),n("a",{class:"header-anchor",href:"#\u8F6F\u4EF6\u73AF\u5883\u8981\u6C42","aria-hidden":"true"},"#")]),n("ul",null,[n("li",null,[n("strong",null,"Python"),s(": 3.8 - 3.11 (\u63A8\u8350 3.10)")]),n("li",null,[n("strong",null,"PyTorch"),s(": 2.0.0+ (\u652F\u6301 CUDA)")]),n("li",null,[n("strong",null,"\u6838\u5FC3\u4F9D\u8D56"),s(": "),n("code",null,"transformers>=4.44.0"),s(", "),n("code",null,"accelerate>=0.20.0"),s(", "),n("code",null,"Pillow>=8.0.0")]),n("li",null,[n("strong",null,"\u6A21\u578B\u4E0B\u8F7D"),s(": "),n("code",null,"modelscope"),s(" (\u7528\u4E8E\u4E0B\u8F7D\u6A21\u578B)")])]),n("h3",{id:"\u6027\u80FD\u53C2\u8003",tabindex:"-1"},[s("\u6027\u80FD\u53C2\u8003 "),n("a",{class:"header-anchor",href:"#\u6027\u80FD\u53C2\u8003","aria-hidden":"true"},"#")]),n("table",null,[n("thead",null,[n("tr",null,[n("th",null,"GPU \u578B\u53F7"),n("th",null,"\u6587\u672C\u751F\u6210"),n("th",null,"\u56FE\u50CF\u7406\u89E3")])]),n("tbody",null,[n("tr",null,[n("td",null,"RTX 4090"),n("td",null,"2-5 \u79D2"),n("td",null,"3-8 \u79D2")]),n("tr",null,[n("td",null,"RTX 4080"),n("td",null,"3-8 \u79D2"),n("td",null,"5-12 \u79D2")]),n("tr",null,[n("td",null,"RTX 4070Ti"),n("td",null,"5-12 \u79D2"),n("td",null,"8-18 \u79D2")]),n("tr",null,[n("td",null,"A100"),n("td",null,"1-3 \u79D2"),n("td",null,"2-5 \u79D2")])])]),n("h2",{id:"\u90E8\u7F72\u6B65\u9AA4",tabindex:"-1"},[s("\u90E8\u7F72\u6B65\u9AA4 "),n("a",{class:"header-anchor",href:"#\u90E8\u7F72\u6B65\u9AA4","aria-hidden":"true"},"#")]),n("h3",{id:"_1-\u73AF\u5883\u51C6\u5907",tabindex:"-1"},[s("1. \u73AF\u5883\u51C6\u5907 "),n("a",{class:"header-anchor",href:"#_1-\u73AF\u5883\u51C6\u5907","aria-hidden":"true"},"#")]),n("pre",{class:"language-bash"},[n("code",{class:"language-bash"},[n("span",{class:"token comment"},"# \u521B\u5EFAconda\u73AF\u5883"),s(`
conda create `),n("span",{class:"token parameter variable"},"-n"),s(" llama-vision "),n("span",{class:"token assign-left variable"},"python"),n("span",{class:"token operator"},"="),n("span",{class:"token number"},"3.10"),s(),n("span",{class:"token parameter variable"},"-y"),s(`
conda activate llama-vision

`),n("span",{class:"token comment"},"# \u5B89\u88C5CUDA\u76F8\u5173\u4F9D\u8D56"),s(`
`),n("span",{class:"token comment"},"# CUDA 11.8"),s(`
pip `),n("span",{class:"token function"},"install"),s(` torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118

`),n("span",{class:"token comment"},"# CUDA 12.1+\uFF08\u5305\u62EC12.4\uFF09"),s(`
`),n("span",{class:"token comment"},"# pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121"),s(`
`)])]),n("h4",{id:"cuda-\u7248\u672C\u786E\u8BA4",tabindex:"-1"},[s("CUDA \u7248\u672C\u786E\u8BA4 "),n("a",{class:"header-anchor",href:"#cuda-\u7248\u672C\u786E\u8BA4","aria-hidden":"true"},"#")]),n("p",null,"\u5728\u5B89\u88C5 PyTorch \u4E4B\u524D\uFF0C\u8BF7\u786E\u8BA4\u60A8\u7684 CUDA \u7248\u672C\uFF1A"),n("pre",{class:"language-bash"},[n("code",{class:"language-bash"},[n("span",{class:"token comment"},"# \u68C0\u67E5CUDA\u7248\u672C"),s(`
nvidia-smi
`)])]),n("h3",{id:"_2-\u5B89\u88C5\u4F9D\u8D56",tabindex:"-1"},[s("2. \u5B89\u88C5\u4F9D\u8D56 "),n("a",{class:"header-anchor",href:"#_2-\u5B89\u88C5\u4F9D\u8D56","aria-hidden":"true"},"#")]),n("p",null,"\u5B89\u88C5\u6A21\u578B\u8FD0\u884C\u6240\u9700\u7684 Python \u4F9D\u8D56\u5305\uFF1A"),n("pre",{class:"language-bash"},[n("code",{class:"language-bash"},[n("span",{class:"token comment"},"# \u5B89\u88C5\u6838\u5FC3\u4F9D\u8D56\u5305"),s(`
pip `),n("span",{class:"token function"},"install"),s(" transformers"),n("span",{class:"token operator"},">="),n("span",{class:"token number"},"4.44"),s(`.0
pip `),n("span",{class:"token function"},"install"),s(" accelerate"),n("span",{class:"token operator"},">="),n("span",{class:"token number"},"0.20"),s(`.0
pip `),n("span",{class:"token function"},"install"),s(" Pillow"),n("span",{class:"token operator"},">="),n("span",{class:"token number"},"8.0"),s(`.0
pip `),n("span",{class:"token function"},"install"),s(` requests
pip `),n("span",{class:"token function"},"install"),s(` modelscope
`)])]),n("h4",{id:"\u4F9D\u8D56\u5305\u8BF4\u660E",tabindex:"-1"},[s("\u4F9D\u8D56\u5305\u8BF4\u660E "),n("a",{class:"header-anchor",href:"#\u4F9D\u8D56\u5305\u8BF4\u660E","aria-hidden":"true"},"#")]),n("table",null,[n("thead",null,[n("tr",null,[n("th",null,"\u5305\u540D"),n("th",null,"\u7248\u672C\u8981\u6C42"),n("th",null,"\u4F5C\u7528")])]),n("tbody",null,[n("tr",null,[n("td",null,[n("code",null,"transformers")]),n("td",null,">=4.44.0"),n("td",null,"Llama \u6A21\u578B\u6838\u5FC3\u5E93")]),n("tr",null,[n("td",null,[n("code",null,"accelerate")]),n("td",null,">=0.20.0"),n("td",null,"\u6A21\u578B\u52A0\u901F\u548C\u5185\u5B58\u4F18\u5316")]),n("tr",null,[n("td",null,[n("code",null,"Pillow")]),n("td",null,">=8.0.0"),n("td",null,"\u56FE\u50CF\u5904\u7406\u5E93")]),n("tr",null,[n("td",null,[n("code",null,"modelscope")]),n("td",null,"\u6700\u65B0"),n("td",null,"ModelScope \u6A21\u578B\u4E0B\u8F7D")])])]),n("h4",{id:"\u9A8C\u8BC1\u4F9D\u8D56\u5B89\u88C5",tabindex:"-1"},[s("\u9A8C\u8BC1\u4F9D\u8D56\u5B89\u88C5 "),n("a",{class:"header-anchor",href:"#\u9A8C\u8BC1\u4F9D\u8D56\u5B89\u88C5","aria-hidden":"true"},"#")]),n("pre",{class:"language-bash"},[n("code",{class:"language-bash"},[n("span",{class:"token comment"},"# \u9A8C\u8BC1\u5173\u952E\u5305\u662F\u5426\u6B63\u786E\u5B89\u88C5"),s(`
python `),n("span",{class:"token parameter variable"},"-c"),s(),n("span",{class:"token string"},`"import transformers; print('Transformers:', transformers.__version__)"`),s(`
python `),n("span",{class:"token parameter variable"},"-c"),s(),n("span",{class:"token string"},`"from transformers import LlamaForCausalLM; print('Llama \u6A21\u578B\u652F\u6301\u53EF\u7528')"`),s(`
python `),n("span",{class:"token parameter variable"},"-c"),s(),n("span",{class:"token string"},`"from PIL import Image; print('Pillow \u56FE\u50CF\u5904\u7406\u53EF\u7528')"`),s(`
python `),n("span",{class:"token parameter variable"},"-c"),s(),n("span",{class:"token string"},`"from modelscope import snapshot_download; print('ModelScope \u53EF\u7528')"`),s(`
`)])]),n("h3",{id:"_3-\u4E0B\u8F7D\u6A21\u578B",tabindex:"-1"},[s("3. \u4E0B\u8F7D\u6A21\u578B "),n("a",{class:"header-anchor",href:"#_3-\u4E0B\u8F7D\u6A21\u578B","aria-hidden":"true"},"#")]),n("h4",{id:"modelscope-cli-\u4E0B\u8F7D\uFF08\u63A8\u8350\uFF09",tabindex:"-1"},[s("ModelScope CLI \u4E0B\u8F7D\uFF08\u63A8\u8350\uFF09 "),n("a",{class:"header-anchor",href:"#modelscope-cli-\u4E0B\u8F7D\uFF08\u63A8\u8350\uFF09","aria-hidden":"true"},"#")]),n("pre",{class:"language-bash"},[n("code",{class:"language-bash"},[n("span",{class:"token comment"},"# \u4F7F\u7528ModelScope CLI\u4E0B\u8F7D"),s(`
modelscope download `),n("span",{class:"token parameter variable"},"--model"),s(" LLM-Research/Llama-3.2-11B-Vision-Instruct "),n("span",{class:"token parameter variable"},"--local_dir"),s(` ./models/Llama-3.2-11B-Vision-Instruct

`),n("span",{class:"token comment"},"# \u9A8C\u8BC1\u4E0B\u8F7D\u5B8C\u6210"),s(`
`),n("span",{class:"token function"},"ls"),s(),n("span",{class:"token parameter variable"},"-la"),s(` ./models/Llama-3.2-11B-Vision-Instruct/
`)])]),n("p",null,[n("img",{src:i,alt:"\u6A21\u578B\u4E0B\u8F7D"})]),n("h3",{id:"_4-\u73AF\u5883\u68C0\u67E5",tabindex:"-1"},[s("4. \u73AF\u5883\u68C0\u67E5 "),n("a",{class:"header-anchor",href:"#_4-\u73AF\u5883\u68C0\u67E5","aria-hidden":"true"},"#")]),n("p",null,[s("\u521B\u5EFA "),n("code",null,"check_environment.py"),s(" \u6587\u4EF6\uFF1A")]),n("pre",{class:"language-python"},[n("code",{class:"language-python"},[n("span",{class:"token keyword"},"import"),s(` torch
`),n("span",{class:"token keyword"},"import"),s(` os

`),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Llama-3.2-11B-Vision-Instruct \u73AF\u5883\u68C0\u67E5"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"="'),s(),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token number"},"40"),n("span",{class:"token punctuation"},")"),s(`

    `),n("span",{class:"token comment"},"# \u68C0\u67E5CUDA"),s(`
    `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},'f"PyTorch: '),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("torch"),n("span",{class:"token punctuation"},"."),s("__version__"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'"')]),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},'f"CUDA\u53EF\u7528: '),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("torch"),n("span",{class:"token punctuation"},"."),s("cuda"),n("span",{class:"token punctuation"},"."),s("is_available"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'"')]),n("span",{class:"token punctuation"},")"),s(`

    `),n("span",{class:"token keyword"},"if"),s(" torch"),n("span",{class:"token punctuation"},"."),s("cuda"),n("span",{class:"token punctuation"},"."),s("is_available"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        gpu_memory `),n("span",{class:"token operator"},"="),s(" torch"),n("span",{class:"token punctuation"},"."),s("cuda"),n("span",{class:"token punctuation"},"."),s("get_device_properties"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s("total_memory "),n("span",{class:"token operator"},"/"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"1024"),n("span",{class:"token operator"},"**"),n("span",{class:"token number"},"3"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},'f"GPU\u663E\u5B58: '),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("gpu_memory"),n("span",{class:"token punctuation"},":"),n("span",{class:"token format-spec"},".1f"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},' GB"')]),n("span",{class:"token punctuation"},")"),s(`

        `),n("span",{class:"token keyword"},"if"),s(" gpu_memory "),n("span",{class:"token operator"},">="),s(),n("span",{class:"token number"},"16"),n("span",{class:"token punctuation"},":"),s(`
            `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u663E\u5B58\u5145\u8DB3"'),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"else"),n("span",{class:"token punctuation"},":"),s(`
            `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u663E\u5B58\u53EF\u80FD\u4E0D\u8DB3"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"else"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u672A\u68C0\u6D4B\u5230CUDA"'),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token boolean"},"False"),s(`

    `),n("span",{class:"token comment"},"# \u68C0\u67E5\u4F9D\u8D56"),s(`
    `),n("span",{class:"token keyword"},"try"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token keyword"},"import"),s(` transformers
        `),n("span",{class:"token keyword"},"from"),s(" PIL "),n("span",{class:"token keyword"},"import"),s(` Image
        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u4F9D\u8D56\u5305\u6B63\u5E38"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"except"),s(" ImportError "),n("span",{class:"token keyword"},"as"),s(" e"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},'f"\u4F9D\u8D56\u5305\u7F3A\u5931: '),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("e"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'"')]),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token boolean"},"False"),s(`

    `),n("span",{class:"token comment"},"# \u68C0\u67E5\u6A21\u578B"),s(`
    model_path `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"./models/Llama-3.2-11B-Vision-Instruct"'),s(`
    `),n("span",{class:"token keyword"},"if"),s(" os"),n("span",{class:"token punctuation"},"."),s("path"),n("span",{class:"token punctuation"},"."),s("exists"),n("span",{class:"token punctuation"},"("),s("model_path"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u6A21\u578B\u6587\u4EF6\u5B58\u5728"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"else"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u6A21\u578B\u6587\u4EF6\u4E0D\u5B58\u5728\uFF0C\u8BF7\u5148\u4E0B\u8F7D"'),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token boolean"},"False"),s(`

    `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\\n\u73AF\u5883\u68C0\u67E5\u5B8C\u6210\uFF01"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token boolean"},"True"),s(`

`),n("span",{class:"token keyword"},"if"),s(" __name__ "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token string"},'"__main__"'),n("span",{class:"token punctuation"},":"),s(`
    main`),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
`)])]),n("p",null,[n("img",{src:k,alt:"\u73AF\u5883\u68C0\u67E5"})]),n("h3",{id:"_5-\u521B\u5EFA\u63A8\u7406\u811A\u672C",tabindex:"-1"},[s("5. \u521B\u5EFA\u63A8\u7406\u811A\u672C "),n("a",{class:"header-anchor",href:"#_5-\u521B\u5EFA\u63A8\u7406\u811A\u672C","aria-hidden":"true"},"#")]),n("p",null,[s("\u521B\u5EFA "),n("code",null,"inference_llama_vision.py"),s(" \u6587\u4EF6\uFF1A")]),n("pre",{class:"language-python"},[n("code",{class:"language-python"},[n("span",{class:"token keyword"},"import"),s(` torch
`),n("span",{class:"token keyword"},"import"),s(` argparse
`),n("span",{class:"token keyword"},"import"),s(` os
`),n("span",{class:"token keyword"},"from"),s(" transformers "),n("span",{class:"token keyword"},"import"),s(" AutoTokenizer"),n("span",{class:"token punctuation"},","),s(` AutoModelForCausalLM
`),n("span",{class:"token keyword"},"from"),s(" PIL "),n("span",{class:"token keyword"},"import"),s(` Image

`),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"load_model"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token triple-quoted-string string"},'"""\u52A0\u8F7D\u6A21\u578B"""'),s(`
    model_path `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"./models/Llama-3.2-11B-Vision-Instruct"'),s(`

    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token keyword"},"not"),s(" os"),n("span",{class:"token punctuation"},"."),s("path"),n("span",{class:"token punctuation"},"."),s("exists"),n("span",{class:"token punctuation"},"("),s("model_path"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u6A21\u578B\u6587\u4EF6\u4E0D\u5B58\u5728\uFF0C\u8BF7\u5148\u4E0B\u8F7D\u6A21\u578B"'),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token boolean"},"None"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"None"),s(`

    `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u6B63\u5728\u52A0\u8F7D\u6A21\u578B..."'),n("span",{class:"token punctuation"},")"),s(`
    tokenizer `),n("span",{class:"token operator"},"="),s(" AutoTokenizer"),n("span",{class:"token punctuation"},"."),s("from_pretrained"),n("span",{class:"token punctuation"},"("),s("model_path"),n("span",{class:"token punctuation"},")"),s(`
    model `),n("span",{class:"token operator"},"="),s(" AutoModelForCausalLM"),n("span",{class:"token punctuation"},"."),s("from_pretrained"),n("span",{class:"token punctuation"},"("),s(`
        model_path`),n("span",{class:"token punctuation"},","),s(`
        torch_dtype`),n("span",{class:"token operator"},"="),s("torch"),n("span",{class:"token punctuation"},"."),s("bfloat16"),n("span",{class:"token punctuation"},","),s(`
        device_map`),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"auto"'),n("span",{class:"token punctuation"},","),s(`
        trust_remote_code`),n("span",{class:"token operator"},"="),n("span",{class:"token boolean"},"True"),s(`
    `),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u6A21\u578B\u52A0\u8F7D\u5B8C\u6210"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"return"),s(" model"),n("span",{class:"token punctuation"},","),s(` tokenizer

`),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"generate_response"),n("span",{class:"token punctuation"},"("),s("model"),n("span",{class:"token punctuation"},","),s(" tokenizer"),n("span",{class:"token punctuation"},","),s(" prompt"),n("span",{class:"token punctuation"},","),s(" image_path"),n("span",{class:"token operator"},"="),n("span",{class:"token boolean"},"None"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token triple-quoted-string string"},'"""\u751F\u6210\u56DE\u590D"""'),s(`
    `),n("span",{class:"token keyword"},"try"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token comment"},"# \u5904\u7406\u56FE\u50CF\uFF08\u5982\u679C\u63D0\u4F9B\uFF09"),s(`
        `),n("span",{class:"token keyword"},"if"),s(" image_path"),n("span",{class:"token punctuation"},":"),s(`
            `),n("span",{class:"token keyword"},"try"),n("span",{class:"token punctuation"},":"),s(`
                image `),n("span",{class:"token operator"},"="),s(" Image"),n("span",{class:"token punctuation"},"."),n("span",{class:"token builtin"},"open"),n("span",{class:"token punctuation"},"("),s("image_path"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s("convert"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'RGB'"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},'f"\u56FE\u50CF\u52A0\u8F7D\u6210\u529F: '),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("image_path"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'"')]),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token comment"},"# \u6CE8\u610F\uFF1A\u8FD9\u91CC\u9700\u8981\u6839\u636E\u5177\u4F53\u6A21\u578B\u8981\u6C42\u8C03\u6574\u56FE\u50CF\u5904\u7406\u903B\u8F91"),s(`
            `),n("span",{class:"token keyword"},"except"),s(" Exception "),n("span",{class:"token keyword"},"as"),s(" e"),n("span",{class:"token punctuation"},":"),s(`
                `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},'f"\u56FE\u50CF\u52A0\u8F7D\u5931\u8D25: '),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("e"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'"')]),s(`

        `),n("span",{class:"token comment"},"# \u6587\u672C\u8F93\u5165\u5904\u7406"),s(`
        inputs `),n("span",{class:"token operator"},"="),s(" tokenizer"),n("span",{class:"token punctuation"},"("),s("prompt"),n("span",{class:"token punctuation"},","),s(" return_tensors"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"pt"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s("to"),n("span",{class:"token punctuation"},"("),s("model"),n("span",{class:"token punctuation"},"."),s("device"),n("span",{class:"token punctuation"},")"),s(`

        `),n("span",{class:"token comment"},"# \u751F\u6210\u56DE\u590D"),s(`
        `),n("span",{class:"token keyword"},"with"),s(" torch"),n("span",{class:"token punctuation"},"."),s("no_grad"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
            outputs `),n("span",{class:"token operator"},"="),s(" model"),n("span",{class:"token punctuation"},"."),s("generate"),n("span",{class:"token punctuation"},"("),s(`
                `),n("span",{class:"token operator"},"**"),s("inputs"),n("span",{class:"token punctuation"},","),s(`
                max_new_tokens`),n("span",{class:"token operator"},"="),n("span",{class:"token number"},"512"),n("span",{class:"token punctuation"},","),s(`
                do_sample`),n("span",{class:"token operator"},"="),n("span",{class:"token boolean"},"True"),n("span",{class:"token punctuation"},","),s(`
                temperature`),n("span",{class:"token operator"},"="),n("span",{class:"token number"},"0.7"),n("span",{class:"token punctuation"},","),s(`
                top_p`),n("span",{class:"token operator"},"="),n("span",{class:"token number"},"0.9"),n("span",{class:"token punctuation"},","),s(`
                pad_token_id`),n("span",{class:"token operator"},"="),s("tokenizer"),n("span",{class:"token punctuation"},"."),s(`eos_token_id
            `),n("span",{class:"token punctuation"},")"),s(`

        `),n("span",{class:"token comment"},"# \u89E3\u7801\u8F93\u51FA"),s(`
        response `),n("span",{class:"token operator"},"="),s(" tokenizer"),n("span",{class:"token punctuation"},"."),s("decode"),n("span",{class:"token punctuation"},"("),s(`
            outputs`),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),s("inputs"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'input_ids'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),s("shape"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},":"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
            skip_special_tokens`),n("span",{class:"token operator"},"="),n("span",{class:"token boolean"},"True"),s(`
        `),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"return"),s(" response"),n("span",{class:"token punctuation"},"."),s("strip"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`

    `),n("span",{class:"token keyword"},"except"),s(" Exception "),n("span",{class:"token keyword"},"as"),s(" e"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},'f"\u751F\u6210\u5931\u8D25: '),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("e"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'"')]),s(`

`),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
    parser `),n("span",{class:"token operator"},"="),s(" argparse"),n("span",{class:"token punctuation"},"."),s("ArgumentParser"),n("span",{class:"token punctuation"},"("),s("description"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},"'Llama Vision \u63A8\u7406\u5DE5\u5177'"),n("span",{class:"token punctuation"},")"),s(`
    parser`),n("span",{class:"token punctuation"},"."),s("add_argument"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'--prompt'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'-p'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token builtin"},"type"),n("span",{class:"token operator"},"="),n("span",{class:"token builtin"},"str"),n("span",{class:"token punctuation"},","),s(" required"),n("span",{class:"token operator"},"="),n("span",{class:"token boolean"},"True"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token builtin"},"help"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},"'\u8F93\u5165\u63D0\u793A\u8BCD'"),n("span",{class:"token punctuation"},")"),s(`
    parser`),n("span",{class:"token punctuation"},"."),s("add_argument"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'--image'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'-i'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token builtin"},"type"),n("span",{class:"token operator"},"="),n("span",{class:"token builtin"},"str"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token builtin"},"help"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},"'\u56FE\u50CF\u6587\u4EF6\u8DEF\u5F84'"),n("span",{class:"token punctuation"},")"),s(`

    args `),n("span",{class:"token operator"},"="),s(" parser"),n("span",{class:"token punctuation"},"."),s("parse_args"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`

    `),n("span",{class:"token comment"},"# \u52A0\u8F7D\u6A21\u578B"),s(`
    model`),n("span",{class:"token punctuation"},","),s(" tokenizer "),n("span",{class:"token operator"},"="),s(" load_model"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"if"),s(" model "),n("span",{class:"token keyword"},"is"),s(),n("span",{class:"token boolean"},"None"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token keyword"},"return"),s(`

    `),n("span",{class:"token comment"},"# \u751F\u6210\u56DE\u590D"),s(`
    `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},'f"\\n\u8F93\u5165: '),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("args"),n("span",{class:"token punctuation"},"."),s("prompt"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'"')]),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"if"),s(" args"),n("span",{class:"token punctuation"},"."),s("image"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},'f"\u56FE\u50CF: '),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("args"),n("span",{class:"token punctuation"},"."),s("image"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'"')]),n("span",{class:"token punctuation"},")"),s(`

    response `),n("span",{class:"token operator"},"="),s(" generate_response"),n("span",{class:"token punctuation"},"("),s("model"),n("span",{class:"token punctuation"},","),s(" tokenizer"),n("span",{class:"token punctuation"},","),s(" args"),n("span",{class:"token punctuation"},"."),s("prompt"),n("span",{class:"token punctuation"},","),s(" args"),n("span",{class:"token punctuation"},"."),s("image"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},'f"\u8F93\u51FA: '),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("response"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'"')]),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token keyword"},"if"),s(" __name__ "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token string"},'"__main__"'),n("span",{class:"token punctuation"},":"),s(`
    main`),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
`)])]),n("h3",{id:"_6-\u4F7F\u7528\u65B9\u6CD5",tabindex:"-1"},[s("6. \u4F7F\u7528\u65B9\u6CD5 "),n("a",{class:"header-anchor",href:"#_6-\u4F7F\u7528\u65B9\u6CD5","aria-hidden":"true"},"#")]),n("h4",{id:"\u57FA\u672C\u4F7F\u7528\u6D41\u7A0B",tabindex:"-1"},[s("\u57FA\u672C\u4F7F\u7528\u6D41\u7A0B "),n("a",{class:"header-anchor",href:"#\u57FA\u672C\u4F7F\u7528\u6D41\u7A0B","aria-hidden":"true"},"#")]),n("pre",{class:"language-bash"},[n("code",{class:"language-bash"},[n("span",{class:"token comment"},"# \u7B2C\u4E00\u6B65\uFF1A\u68C0\u67E5\u73AF\u5883"),s(`
python check_environment.py

`),n("span",{class:"token comment"},"# \u7B2C\u4E8C\u6B65\uFF1A\u547D\u4EE4\u884C\u63A8\u7406"),s(`
`),n("span",{class:"token comment"},"# \u7EAF\u6587\u672C\u5BF9\u8BDD"),s(`
python inference_llama_vision.py `),n("span",{class:"token parameter variable"},"--prompt"),s(),n("span",{class:"token string"},'"\u8BF7\u4ECB\u7ECD\u4E00\u4E0B\u4EBA\u5DE5\u667A\u80FD"'),s(`

`),n("span",{class:"token comment"},"# \u56FE\u50CF\u7406\u89E3\uFF08\u9700\u8981\u56FE\u7247\u8DEF\u5F84\uFF09"),s(`
python inference_llama_vision.py `),n("span",{class:"token parameter variable"},"--prompt"),s(),n("span",{class:"token string"},'"\u8BF7\u63CF\u8FF0\u8FD9\u5F20\u56FE\u7247"'),s(),n("span",{class:"token parameter variable"},"--image"),s(` ./path/to/image.jpg
`)])]),n("p",null,"\u9700\u8981\u7406\u89E3\u7684\u56FE\u7247\u5982\u4E0B:"),n("p",null,[n("img",{src:d,alt:"\u56FE\u7247\u7406\u89E3"})]),n("p",null,[s("\u63A8\u7406\u7ED3\u679C\u5982\u4E0B: "),n("img",{src:m,alt:"\u63A8\u7406\u7ED3\u679C"})]),n("p",null,[n("img",{src:h,alt:"\u7591\u60D1"})]),n("h4",{id:"\u547D\u4EE4\u884C\u53C2\u6570\u8BF4\u660E",tabindex:"-1"},[s("\u547D\u4EE4\u884C\u53C2\u6570\u8BF4\u660E "),n("a",{class:"header-anchor",href:"#\u547D\u4EE4\u884C\u53C2\u6570\u8BF4\u660E","aria-hidden":"true"},"#")]),n("pre",{class:"language-bash"},[n("code",{class:"language-bash"},[n("span",{class:"token comment"},"# \u57FA\u672C\u7528\u6CD5"),s(`
python inference_llama_vision.py `),n("span",{class:"token parameter variable"},"--prompt"),s(),n("span",{class:"token string"},'"\u4F60\u7684\u95EE\u9898"'),s(`

`),n("span",{class:"token comment"},"# \u5E26\u56FE\u50CF\u7684\u591A\u6A21\u6001\u63A8\u7406"),s(`
python inference_llama_vision.py `),n("span",{class:"token parameter variable"},"--prompt"),s(),n("span",{class:"token string"},'"\u4F60\u7684\u95EE\u9898"'),s(),n("span",{class:"token parameter variable"},"--image"),s(` \u56FE\u7247\u8DEF\u5F84

`),n("span",{class:"token comment"},"# \u53C2\u6570\u8BF4\u660E"),s(`
--prompt, `),n("span",{class:"token parameter variable"},"-p"),s(`    \u5FC5\u9700\u53C2\u6570\uFF0C\u8F93\u5165\u7684\u63D0\u793A\u8BCD
--image, `),n("span",{class:"token parameter variable"},"-i"),s(`     \u53EF\u9009\u53C2\u6570\uFF0C\u56FE\u50CF\u6587\u4EF6\u8DEF\u5F84
`)])]),n("h4",{id:"\u53C2\u6570\u8C03\u6574\u8BF4\u660E",tabindex:"-1"},[s("\u53C2\u6570\u8C03\u6574\u8BF4\u660E "),n("a",{class:"header-anchor",href:"#\u53C2\u6570\u8C03\u6574\u8BF4\u660E","aria-hidden":"true"},"#")]),n("p",null,"\u53EF\u4EE5\u5728\u63A8\u7406\u811A\u672C\u4E2D\u8C03\u6574\u4EE5\u4E0B\u53C2\u6570\uFF1A"),n("table",null,[n("thead",null,[n("tr",null,[n("th",null,"\u53C2\u6570"),n("th",null,"\u9ED8\u8BA4\u503C"),n("th",null,"\u8BF4\u660E"),n("th",null,"\u6027\u80FD\u5F71\u54CD")])]),n("tbody",null,[n("tr",null,[n("td",null,[n("code",null,"max_new_tokens")]),n("td",null,"512"),n("td",null,"\u6700\u5927\u751F\u6210 token \u6570"),n("td",null,"\u4E2D")]),n("tr",null,[n("td",null,[n("code",null,"temperature")]),n("td",null,"0.7"),n("td",null,"\u751F\u6210\u968F\u673A\u6027\uFF080-1\uFF09"),n("td",null,"\u4F4E")]),n("tr",null,[n("td",null,[n("code",null,"top_p")]),n("td",null,"0.9"),n("td",null,"\u6838\u91C7\u6837\u6982\u7387\u9608\u503C"),n("td",null,"\u4F4E")]),n("tr",null,[n("td",null,[n("code",null,"torch_dtype")]),n("td",null,"bfloat16"),n("td",null,"\u6570\u636E\u7C7B\u578B\uFF08bfloat16/fp16\uFF09"),n("td",null,"\u9AD8")]),n("tr",null,[n("td",null,[n("code",null,"device_map")]),n("td",null,"auto"),n("td",null,"GPU \u5206\u914D\u7B56\u7565"),n("td",null,"\u9AD8")])])]),n("blockquote",null,[n("p",null,[n("strong",null,"\u5185\u5B58\u4F18\u5316\u63D0\u793A"),s("\uFF1A\u811A\u672C\u5DF2\u4F7F\u7528 "),n("code",null,'device_map="auto"'),s(" \u8FDB\u884C\u81EA\u52A8\u663E\u5B58\u7BA1\u7406\u3002\u5982\u9047\u663E\u5B58\u4E0D\u8DB3\uFF0C\u53EF\u5C1D\u8BD5\u4F7F\u7528 "),n("code",null,"torch.float16"),s(" \u6216\u542F\u7528 CPU offload\u3002")])])],-1)])]),_:1})}}};export{v as date,B as default,L as meta,w as title,x as type};
